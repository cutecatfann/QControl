<!DOCTYPE html>
<html>
<head>
    <title>Product Type Quality Check Ratios</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<header>
    <img src="QControl.png" alt="QControl Logo"> 
    <h1>QControl Database System</h1>
</header>
<body>
    <p><strong>Author: </strong> Mimi </p>
    <p><strong>Type of SQL Object: </strong>Procedure</p>
    <!-- <h1>Quality Check Ratios by Product Type</h1> -->
    <p><strong>Description: </strong> For each product type, it calculates and displays the pass/fail ratio based on the batch status. </p>
    <p><strong>Justification: </strong> The procedure is useful for assessing the overall quality performance of different product types. A higher pass/fail ratio indicates better quality control or fewer issues during production for that product type. It's useful for quality managers to monitor and improve the manufacturing process.</p>
    <p><strong>Pass/Fail Ratio Calculation: </strong>This is a fraction. The numerator is the total count of batches with the status 'accepted' for each product type. The denominator is the total count of batches with the status 'rejected' for each product type, with a minimum value of 1 to avoid division by zero.</p>
    <p><strong>This code is hardened to SQL injections, there is no user input.</strong></p>
    <p><strong>Expected Output: </strong>Shows the ratio for each product type. </p>
    <p><strong>Below are the Pass/Fail Ratios for each Product Type:</strong></p>
    <div id="results">
    </div>

    <script>
        window.addEventListener('load', function () {
            fetch('fetch_quality_check_ratios.php').then(response => response.text()).then(data => {
                document.getElementById('results').innerHTML = data;
            });
        });
    </script>
</body>
</html>
